---
title: data
date: 2022-04-25 19:20:05
permalink: /pages/28b751/
categories:
  - 前端
  - Vue
  - Vue2
tags:
  - 
---- [data的两种定义方式](#data的两种定义方式)
- [为什么组件中，data必须是函数？](#为什么组件中data必须是函数)


# data的两种定义方式

类型： `Object`
```js
var data = { a: 1 }

// 直接创建一个实例
var vm = new Vue({
  data: data
})
vm.a // => 1
vm.$data === data // => true

```

类型： `Function`
```js
// Vue.extend() 中 data 必须是函数
var Component = Vue.extend({
  data: function () {
    return { a: 1 }
  }
})

```

# 为什么组件中，data必须是函数？

我们可以将组件看作是一个`Class（类）`，一个类可以通过 `new Class` 生成**多个实例对象**，而组件也是同理。

不同点在于：

- 类生成的实例对象，他们的数据相互隔离
- 而Vue组件，却会引用**同一份data数据**


<!-- 这是因为vue的数据流是基于**双向绑定**实现的，具体实现方法是使用[Proxy](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy)递归的将data的属性定义好`getter和setter`，从而使`data`可以响应数据的变化来渲染页面 -->

